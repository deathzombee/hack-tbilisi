div(ng-include="'views/dashboard/shell.html'")
h1 New Call: {{event.eventSummary}}
div(ng-include="'views/dashboard/communication/navbar-communication.html'")
.container
    .row.form-horizontal
        .col-sm-6
            .form-group
                label.col-sm-4.control-label Call type
                .col-sm-8
                    select.form-control(ng-model="event.eventType")
                        option(value="Admin call") Admin
                        option(value="Service call") Service
    .row.form-horizontal
        .col-sm-6
            .form-group
                label.col-sm-4.control-label(for="clientName") Call to
                .col-sm-8
                    client-multi-selector(ng-model="event.callTo" placeholder="person or number to call")
    .row.form-horizontal
        .col-sm-6
            .form-group
                label.col-sm-4.control-label(for="clientName") Re client(s)
                .col-sm-8
                    client-multi-selector(ng-model="event.callTo" placeholder="client name(s)")
        .col-sm-6(ng-show="event.eventType==='Service call'")
            .form-group
                label.col-sm-4.control-label(for="resourceSelector") Re service provider(s)
                .col-sm-8
                    user-multi-selector(ng-model="event.resources" placeholder="service provider(s)")
        
    hr
    .row
        span(ng-repeat="number in event.numbers")
            a.btn.btn-success(ng-click="callNumber(number)" ng-class="{'btn-success': number.state=='ready', 'btn-danger': number.state=='calling'}")
                span.glyphicon.glyphicon-phone-alt
                |  {{number.number}}
            | &nbsp;
        span {{callStatus}}
    .row.form-horizontal.voffset3
        .form-group
            label.col-sm-2.control-label Notes
            .col-sm-10
                textarea.form-control(msd-elastic="\n" ng-model="event.body" placeholder="call notes")
        .form-group
            a(href="#" ng-click="hideOtherDetails = !hideOtherDetails")
                span(ng-hide="hideOtherDetails") Edit summary...
                span(ng-show="hideOtherDetails") Hide summary...
            div(ng-show="hideOtherDetails")
                label.col-sm-2.control-label Summary
                .col-sm-10
                    input.form-control(ng-model="event.eventSummary" placeholder="call summary")

    .row.pull-right
        .col-xs-12
            a.btn.btn-default Cancel
            | &nbsp;
            a.btn.btn-primary Save

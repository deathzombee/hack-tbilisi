form.form-horizontal(name="userForm")
    .form-group
         label.col-md-3.control-label(for="firstName") First name
         .col-md-9
             input.form-control(name="firstName" ng-model="user.firstName" placeholder="First name" ng-disabled="isSaving")
    
    .form-group
         label.col-md-3.control-label(for="lastName") Last name
         .col-md-9
             input.form-control(name="lastName" ng-model="user.lastName" placeholder="Last name" ng-disabled="isSaving")
    
    .form-group
         label.col-md-3.control-label(for="displayName") Display name
         .col-md-9
             input.form-control(name="displayName" ng-model="user.displayName" placeholder="Display name" ng-disabled="isSaving")
    
    .form-group(ng-class="{ 'has-error': userForm.email.$invalid || userForm.email.$error.required }")
        label.col-md-3.control-label(for="email") Email*
        .col-md-9
            input.form-control(name="email" placeholder="Email" ng-model="user.email" 
                               ng-required="true" ng-pattern="emailRegex" ng-disabled="isSaving")
    
    .form-group
        label.col-md-3.control-label Roles
        .col-md-9
            label(ng-repeat="role in roles")
                input(type="checkbox" checklist-model="user.roles" checklist-value="role" ng-disabled="isSaving") 
                span &nbsp;{{role}}&nbsp;
            br
            span.label.label-danger(ng-show="!user.roles.length") Select at least one role
    
    .form-group
        label.col-md-3.control-label(for="linkedResource") Linked Resource
        .col-md-9
            select.form-control(name="linkedResource" ng-model="user.linkedResource" ng-disabled="isSaving" 
                                ng-options="resource._id as resource.name for resource in resources")
                option(value="") Not linked
    
.col-md-12(ng-hide="!user._id || canEdit")
    .alert.alert-danger Only an onwer or manager can edit another user's record
